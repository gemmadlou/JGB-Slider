!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BTMSlider=t():e.BTMSlider=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist",t(t.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.currentSlide||e.transitionTo}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.assign({},e)}},function(e,t,n){"use strict";var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=function(e){var t=[];return e=e||{},e.selector=void 0===e.selector?".js-slider":e.selector,document.querySelectorAll(e.selector).forEach(function(n){"."!==e.selector.charAt(0)&&"#"!==e.selector.charAt(0)||(e.blockname=e.selector.slice(1),e.el=n,t.push(new i.default(e)))}),t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),s=r(u),a=n(6),l=r(a),f=n(12),c=r(f),d=n(13),h=r(d),v=n(0),p=(r(v),n(14)),b=(r(p),n(15)),_=r(b),m=function(){function e(t){i(this,e),this.options=Object.assign({},t);try{this.dom={},this.dom.slider=this.options.el.querySelector("."+this.options.blockname+"__slider"),this.dom.slides=this.options.el.querySelectorAll("."+this.options.blockname+"__slide"),this.dom.next=this.options.el.querySelector("."+this.options.blockname+"__next-slide"),this.dom.prev=this.options.el.querySelector("."+this.options.blockname+"__prev-slide")}catch(e){return void console.log("The dom is missing some elements",e)}this.store=new h.default,this.bus=new c.default,this.listenToErrors(),this.listen(),(0,s.default)(this.store,this.bus,this.dom.slides.length),this.uiEvents()}return o(e,[{key:"uiEvents",value:function(){var e=this;this.dom.next.addEventListener("click",function(){e.next()})}},{key:"listenToErrors",value:function(){var e=this;this.bus.on("InitiationFailed",function(e){console.log(e,"error")}),this.bus.on("TransitionToNextSlideFailed",function(t){console.log(t,"error",e.store)}),this.bus.on("TransitionFailed",function(e){console.log(e,"error")})}},{key:"listen",value:function(){var e=this;this.bus.on("Initiated",function(e){}),this.bus.on("TransitionToNextSlideStarted",function(t){e.dom.slider.style["margin-left"]=(0,_.default)(e.store.get())}),this.bus.on("TransitionCompleted",function(e){})}},{key:"next",value:function(){(0,l.default)(this.store,this.bus)}}]),e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){try{var r=new i.default(n);e.update(r),t.emit("Initiated")}catch(e){t.emit("InitiationFailed",e)}};var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw new Error("Total number of slides must be provided");if(0===e)throw new Error("Total slides cannot be 0");return{currentSlide:1,numberOfSlides:e,transitionTo:void 0,slideDuration:t||1200}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{var n=new o.default(e.get());e.update(n),t.emit("TransitionToNextSlideStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit("TransitionToNextSlideFailed",e)}};var i=n(7),o=r(i),u=n(10),s=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e,(0,o.default)(e))};var i=n(8),o=r(i),u=n(9),s=r(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("Getting next slide requires state");var t=(0,i.default)(e);return t===e.numberOfSlides?1:t+1};var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw new Error("Slide state must be provided");if(void 0===t)throw new Error("Transition slide must be provided");var n=(0,o.default)(e),r=(0,s.default)(n);if(t>n.numberOfSlides)throw new Error("Transition slide does not exist");if(t<0)throw new Error("Transition slide cannot be a negative number");if(0===t)throw new Error("Transition slide cannot be zero");if(t===r)throw new Error("Cannot transition to the same slide");return n.transitionTo=t,n.currentSlide=void 0,n.transitionStartedAt=Date.now(),console.log(n.transitionStartedAt),n};var i=n(1),o=r(i),u=n(0),s=r(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{t.emit("TransitionCompleted",new i.default(e))}catch(e){t.emit("TransitionFailed",e)}};var r=n(11),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("state is undefined");var t=(0,i.default)(e);if(Date.now()-t.transitionStartedAt<t.slideDuration)throw new Error("slide has not finished transitioning");return t.currentSlide=t.transitionTo,t.transitionTo=void 0,t};var r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.messages={}}return i(e,[{key:"on",value:function(e,t){this.messages[e]||(this.messages[e]=[]),"function"==typeof t&&this.messages[e].push(t)}},{key:"emit",value:function(e,t){this.messages[e]&&this.messages[e].forEach(function(e){e(t)})}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.data={}}return i(e,[{key:"update",value:function(e){this.data=e}},{key:"get",value:function(){return this.data}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("Getting next slide requires state");var t=(0,i.default)(e);return t===e.numberOfSlides?1:t+1};var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return-100*((0,i.default)(e)-1)+"%"};var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r)}])});