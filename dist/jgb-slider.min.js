!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jgbslider=t():e.jgbslider=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist",t(t.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.currentSlide||e.transitionTo}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw new l.default("Slide state must be provided");if(void 0===t)throw new l.default("Transition slide must be provided");var n=(0,r.default)(e),o=(0,s.default)(n);if(t>n.numberOfSlides)throw new l.default("Transition slide does not exist");if(t<0)throw new l.default("Transition slide cannot be a negative number");if(0===t)throw new l.default("Transition slide cannot be zero");if(t===o)throw new l.default("Cannot transition to the same slide");return n.transitionTo=t,n.currentSlide=void 0,n.transitionStartedAt=Date.now(),n};var i=n(5),r=o(i),u=n(0),s=o(u),a=n(13),l=o(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{t.emit("TransitionCompleted",new i.default(e))}catch(e){t.emit(e.name,e)}};var o=n(14),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.message=e,n.name="Exception",n}return r(t,e),t}(Error);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("Getting next slide requires state");var t=(0,i.default)(e);return t===e.numberOfSlides?1:t+1};var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.assign({},e)}},function(e,t,n){"use strict";var o=n(7),i=function(e){return e&&e.__esModule?e:{default:e}}(o);e.exports=function(e){e=e||{},e.selector=void 0===e.selector?".js-slider":e.selector,document.querySelectorAll(e.selector).forEach(function(t){"."!==e.selector.charAt(0)&&"#"!==e.selector.charAt(0)||(e.blockname=e.selector.slice(1),e.el=t,t.slider=new i.default(e))})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(8),s=o(u),a=n(11),l=o(a),f=n(15),c=o(f),d=n(18),p=o(d),h=n(19),b=o(h),_=n(20),v=o(_),y=n(0),m=(o(y),n(4)),w=(o(m),n(21)),g=o(w),O=function(){function e(t){i(this,e),this.options=Object.assign({},t);try{this.dom={},this.dom.slider=this.options.el.querySelector("."+this.options.blockname+"__slider"),this.dom.slides=this.options.el.querySelectorAll("."+this.options.blockname+"__slide"),this.dom.next=this.options.el.querySelector("."+this.options.blockname+"__next-slide"),this.dom.prev=this.options.el.querySelector("."+this.options.blockname+"__prev-slide")}catch(e){return void console.log("The dom is missing some elements",e)}this.store=new v.default,this.bus=new b.default,this.listenToErrors(),this.listen(),(0,s.default)(this.store,this.bus,this.dom.slides.length,this.options.slideDuration),this.uiEvents()}return r(e,[{key:"uiEvents",value:function(){var e=this;this.dom.next.addEventListener("click",function(){e.next()}),this.dom.prev.addEventListener("click",function(){e.prev()})}},{key:"listenToErrors",value:function(){var e=this;this.bus.on("InitiationFailedException",function(e){console.log("init failed",e.name,e.message,e.stack)}),this.bus.on("TransitionToNextSlideFailedException",function(t){console.log(t,"error",e.store)}),this.bus.on("TransitionToPreviousSlideFailedException",function(t){console.log(t,"error",e.store)}),this.bus.on("TransitionToFailedException",function(t){console.log(t,"error",e.store)}),this.bus.on("TransitionToFailedException",function(e){console.log(e,"error")}),this.bus.on("CompleteTransitionFailedException",function(e){console.log(e,"error")})}},{key:"listen",value:function(){var e=this;this.bus.on("Initiated",function(e){}),this.bus.on("TransitionToNextSlideStarted",function(t){e.dom.slider.style["margin-left"]=(0,g.default)(e.store.get())}),this.bus.on("TransitionToPreviousSlideStarted",function(t){e.dom.slider.style["margin-left"]=(0,g.default)(e.store.get())}),this.bus.on("TransitionToStarted",function(t){e.dom.slider.style["margin-left"]=(0,g.default)(e.store.get())}),this.bus.on("TransitionCompleted",function(e){})}},{key:"next",value:function(){(0,l.default)(this.store,this.bus)}},{key:"prev",value:function(){(0,c.default)(this.store,this.bus)}},{key:"goTo",value:function(e){(0,p.default)(this.store,this.bus,e)}}]),e}();t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){try{e.update(new i.default(n)),t.emit("Initiated")}catch(e){t.emit(e.name,e)}};var o=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw new i.default("numberOfSlides is required");if(0===e)throw new i.default("number of slides must >= 1");return{currentSlide:1,numberOfSlides:e,transitionTo:void 0,slideDuration:t||1200}};var o=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),s=function(e){return e&&e.__esModule?e:{default:e}}(u),a=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="InitiationFailedException",n}return r(t,e),t}(s.default);t.default=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{e.update(new r.default(e.get())),t.emit("TransitionToNextSlideStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit(e.name,e)}};var i=n(12),r=o(i),u=n(2),s=o(u)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e,(0,r.default)(e))};var i=n(4),r=o(i),u=n(1),s=o(u)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),s=function(e){return e&&e.__esModule?e:{default:e}}(u),a=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="TransitionToFailedException",n}return r(t,e),t}(s.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("state is undefined");var t=(0,i.default)(e);if(Date.now()-t.transitionStartedAt<t.slideDuration)throw new Error("slide has not finished transitioning");return t.currentSlide=t.transitionTo,t.transitionTo=void 0,t};var o=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{e.update(new r.default(e.get())),t.emit("TransitionToPreviousSlideStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit(e.name,e)}};var i=n(16),r=o(i),u=n(2),s=o(u)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e,(0,r.default)(e))};var i=n(17),r=o(i),u=n(1),s=o(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("Getting previous slide requires state");var t=(0,i.default)(e);return 1===t?e.numberOfSlides:t-1};var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){try{e.update(new r.default(e.get(),n)),t.emit("TransitionToStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit(e.name,e)}};var i=n(1),r=o(i),u=n(2),s=o(u)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.messages={}}return i(e,[{key:"on",value:function(e,t){this.messages[e]||(this.messages[e]=[]),"function"==typeof t&&this.messages[e].push(t)}},{key:"emit",value:function(e,t){this.messages[e]&&this.messages[e].forEach(function(e){e(t)})}}]),e}();t.default=r},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.data={}}return i(e,[{key:"update",value:function(e){this.data=e}},{key:"get",value:function(){return this.data}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return-100*((0,i.default)(e)-1)+"%"};var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o)}])});