!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BTMSlider=t():e.BTMSlider=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist",t(t.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.currentSlide||e.transitionTo}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw new Error("Slide state must be provided");if(void 0===t)throw new Error("Transition slide must be provided");var n=(0,r.default)(e),i=(0,s.default)(n);if(t>n.numberOfSlides)throw new Error("Transition slide does not exist");if(t<0)throw new Error("Transition slide cannot be a negative number");if(0===t)throw new Error("Transition slide cannot be zero");if(t===i)throw new Error("Cannot transition to the same slide");return n.transitionTo=t,n.currentSlide=void 0,n.transitionStartedAt=Date.now(),console.log(n.transitionStartedAt),n};var o=n(4),r=i(o),u=n(0),s=i(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{t.emit("TransitionCompleted",new o.default(e))}catch(e){t.emit("TransitionFailed",e)}};var i=n(11),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("Getting next slide requires state");var t=(0,o.default)(e);return t===e.numberOfSlides?1:t+1};var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.assign({},e)}},function(e,t,n){"use strict";var i=n(6),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=function(e){e=e||{},e.selector=void 0===e.selector?".js-slider":e.selector,document.querySelectorAll(e.selector).forEach(function(t){"."!==e.selector.charAt(0)&&"#"!==e.selector.charAt(0)||(e.blockname=e.selector.slice(1),e.el=t,t.slider=new o.default(e))})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(7),s=i(u),a=n(9),l=i(a),d=n(12),f=i(d),c=n(15),v=i(c),h=n(16),p=i(h),b=n(17),_=i(b),m=n(0),y=(i(m),n(3)),T=(i(y),n(18)),g=i(T),w=function(){function e(t){o(this,e),this.options=Object.assign({},t);try{this.dom={},this.dom.slider=this.options.el.querySelector("."+this.options.blockname+"__slider"),this.dom.slides=this.options.el.querySelectorAll("."+this.options.blockname+"__slide"),this.dom.next=this.options.el.querySelector("."+this.options.blockname+"__next-slide"),this.dom.prev=this.options.el.querySelector("."+this.options.blockname+"__prev-slide")}catch(e){return void console.log("The dom is missing some elements",e)}this.store=new _.default,this.bus=new p.default,this.listenToErrors(),this.listen(),(0,s.default)(this.store,this.bus,this.dom.slides.length),this.uiEvents()}return r(e,[{key:"uiEvents",value:function(){var e=this;this.dom.next.addEventListener("click",function(){e.next()}),this.dom.prev.addEventListener("click",function(){e.prev()})}},{key:"listenToErrors",value:function(){var e=this;this.bus.on("InitiationFailed",function(e){console.log(e,"error")}),this.bus.on("TransitionToNextSlideFailed",function(t){console.log(t,"error",e.store)}),this.bus.on("TransitionToPreviousSlideFailed",function(t){console.log(t,"error",e.store)}),this.bus.on("TransitionToFailed",function(t){console.log(t,"error",e.store)}),this.bus.on("TransitionFailed",function(e){console.log(e,"error")})}},{key:"listen",value:function(){var e=this;this.bus.on("Initiated",function(e){}),this.bus.on("TransitionToNextSlideStarted",function(t){e.dom.slider.style["margin-left"]=(0,g.default)(e.store.get())}),this.bus.on("TransitionToPreviousSlideStarted",function(t){e.dom.slider.style["margin-left"]=(0,g.default)(e.store.get())}),this.bus.on("TransitionToStarted",function(t){e.dom.slider.style["margin-left"]=(0,g.default)(e.store.get())}),this.bus.on("TransitionCompleted",function(e){})}},{key:"next",value:function(){(0,l.default)(this.store,this.bus)}},{key:"prev",value:function(){(0,f.default)(this.store,this.bus)}},{key:"goTo",value:function(e){(0,v.default)(this.store,this.bus,e)}}]),e}();t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){try{var i=new o.default(n);e.update(i),t.emit("Initiated")}catch(e){t.emit("InitiationFailed",e)}};var i=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw new Error("Total number of slides must be provided");if(0===e)throw new Error("Total slides cannot be 0");return{currentSlide:1,numberOfSlides:e,transitionTo:void 0,slideDuration:t||1200}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{e.update(new r.default(e.get())),t.emit("TransitionToNextSlideStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit("TransitionToNextSlideFailed",e)}};var o=n(10),r=i(o),u=n(2),s=i(u)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e,(0,r.default)(e))};var o=n(3),r=i(o),u=n(1),s=i(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("state is undefined");var t=(0,o.default)(e);if(Date.now()-t.transitionStartedAt<t.slideDuration)throw new Error("slide has not finished transitioning");return t.currentSlide=t.transitionTo,t.transitionTo=void 0,t};var i=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{e.update(new r.default(e.get())),t.emit("TransitionToPreviousSlideStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit("TransitionToPreviousSlideFailed",e)}};var o=n(13),r=i(o),u=n(2),s=i(u)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e,(0,r.default)(e))};var o=n(14),r=i(o),u=n(1),s=i(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("Getting previous slide requires state");var t=(0,o.default)(e);return 1===t?e.numberOfSlides:t-1};var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){try{e.update(new r.default(e.get(),n)),t.emit("TransitionToStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit("TransitionToFailed",e)}};var o=n(1),r=i(o),u=n(2),s=i(u)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.messages={}}return o(e,[{key:"on",value:function(e,t){this.messages[e]||(this.messages[e]=[]),"function"==typeof t&&this.messages[e].push(t)}},{key:"emit",value:function(e,t){this.messages[e]&&this.messages[e].forEach(function(e){e(t)})}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.data={}}return o(e,[{key:"update",value:function(e){this.data=e}},{key:"get",value:function(){return this.data}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return-100*((0,o.default)(e)-1)+"%"};var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i)}])});