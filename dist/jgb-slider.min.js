!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jgbslider=t():e.jgbslider=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist",t(t.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.currentSlide||e.transitionTo}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.message=e,n.name="Exception",n}return r(t,e),t}(Error);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.assign({},e)}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw new l.default("Slide state must be provided");if(void 0===t)throw new l.default("Transition slide must be provided");var n=(0,r.default)(e),o=(0,s.default)(n);if(t>n.numberOfSlides)throw new l.default("Transition slide does not exist");if(t<0)throw new l.default("Transition slide cannot be a negative number");if(0===t)throw new l.default("Transition slide cannot be zero");if(t===o)throw new l.default("Cannot transition to the same slide");return n.transitionTo=t,n.currentSlide=void 0,n.transitionStartedAt=Date.now(),n};var i=n(2),r=o(i),u=n(0),s=o(u),a=n(13),l=o(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{t.emit("TransitionCompleted",new i.default(e))}catch(e){t.emit(e.name,e)}};var o=n(14),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{e.update(new r.default(e.get())),t.emit("TransitionToNextSlideStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit(e.name,e)}};var i=n(12),r=o(i),u=n(4),s=o(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("Getting next slide requires state");var t=(0,i.default)(e);return t===e.numberOfSlides?1:t+1};var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(8),r=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=function(e){e=e&&"object"===(void 0===e?"undefined":o(e))?e:{},e.selector=void 0===e.selector?".js-slider":e.selector,document.querySelectorAll(e.selector).forEach(function(t){t.slider||"."!==e.selector.charAt(0)&&"#"!==e.selector.charAt(0)||(e.blockname=e.selector.slice(1),e.el=t,t.slider=new r.default(e))})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(9),s=o(u),a=n(5),l=o(a),f=n(15),c=o(f),d=n(18),p=o(d),h=n(19),y=o(h),b=n(22),_=o(b),v=n(0),m=(o(v),n(6)),w=(o(m),n(25)),O=o(w),j=n(26),g=o(j),S=n(27),M=o(S),P=function(){function e(t){i(this,e);var n={onInit:function(){},beforeSlide:function(){},afterSlide:function(){},onStartAutoplay:function(){},onStopAutoplay:function(){},prevNextButtons:!0};this.options=Object.assign({},n,t);try{this.dom={},this.dom.slider=this.options.el.querySelector("."+this.options.blockname+"__slider"),this.dom.slides=this.options.el.querySelectorAll("."+this.options.blockname+"__slide")}catch(e){return void console.log("The dom is missing some elements",e)}this.store=new M.default,this.bus=new g.default,this.listenToErrors(),this.listen(),(0,s.default)(this.store,this.bus,this.dom.slides.length,this.options.slideDuration,this.options.autoplaySpeed),this.initBulletsUI(),this.initButtonsUI()}return r(e,[{key:"initBulletsUI",value:function(){var e=this;if(this.options.bullets){var t=document.createElement("ol");t.classList.add(this.options.blockname+"__bullets");for(var n=1;n<=this.store.get().numberOfSlides;n++)!function(n){var o=document.createElement("li");o.classList.add(e.options.blockname+"__bullet"),o.addEventListener("click",function(){e.goTo(n)}),t.appendChild(o)}(n);this.options.el.appendChild(t),this.dom.bullets=t}}},{key:"initButtonsUI",value:function(){var e=this;this.options.prevNextButtons&&(this.dom.next=document.createElement("span"),this.dom.next.classList.add(this.options.blockname+"__next-slide"),this.dom.prev=document.createElement("span"),this.dom.prev.classList.add(this.options.blockname+"__prev-slide"),this.options.el.appendChild(this.dom.prev),this.options.el.appendChild(this.dom.next),this.dom.next.addEventListener("click",function(){e.next()}),this.dom.prev.addEventListener("click",function(){e.prev()}))}},{key:"listenToErrors",value:function(){this.bus.on("InitiationFailedException",function(e){console.log("There was a problem initializing the slider",e.name,e.message,e.stack)})}},{key:"listen",value:function(){var e=this;this.bus.on("Initiated",function(t){e.dom.slider.style.transitionDuration=e.store.get().slideDuration+"ms",e.options.onInit()}),this.bus.on("TransitionToNextSlideStarted",function(t){e.dom.slider.style["margin-left"]=(0,O.default)(e.store.get()),e.options.beforeSlide()}),this.bus.on("TransitionToPreviousSlideStarted",function(t){e.dom.slider.style["margin-left"]=(0,O.default)(e.store.get()),e.options.beforeSlide()}),this.bus.on("TransitionToStarted",function(t){e.dom.slider.style["margin-left"]=(0,O.default)(e.store.get()),e.options.beforeSlide()}),this.bus.on("TransitionCompleted",function(t){e.options.afterSlide()}),this.bus.on("AutoplayStopped",function(t){e.options.onStopAutoplay()}),this.bus.on("AutoplayStarted",function(t){e.options.onStartAutoplay()})}},{key:"next",value:function(){(0,l.default)(this.store,this.bus)}},{key:"prev",value:function(){(0,c.default)(this.store,this.bus)}},{key:"goTo",value:function(e){(0,p.default)(this.store,this.bus,e)}},{key:"autoplay",value:function(){(0,y.default)(this.store,this.bus)}},{key:"stopAutoplay",value:function(){(0,_.default)(this.store,this.bus)}}]),e}();t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o,r){try{e.update(new i.default(n,o,r)),t.emit("Initiated")}catch(e){t.emit(e.name,e)}};var o=n(10),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw new i.default("numberOfSlides is required");if(0===e)throw new i.default("number of slides must >= 1");return{currentSlide:1,numberOfSlides:e,transitionTo:void 0,slideDuration:t||1200,autoplay:!1,autoplaySpeed:n||4e3}};var o=n(11),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(u),a=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="InitiationFailedException",n}return r(t,e),t}(s.default);t.default=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e,(0,r.default)(e))};var i=n(6),r=o(i),u=n(3),s=o(u)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(u),a=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="TransitionToFailedException",n}return r(t,e),t}(s.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("state is undefined");var t=(0,i.default)(e);if(Date.now()-t.transitionStartedAt<t.slideDuration)throw new Error("slide has not finished transitioning");return t.currentSlide=t.transitionTo,t.transitionTo=void 0,t};var o=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{e.update(new r.default(e.get())),t.emit("TransitionToPreviousSlideStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit(e.name,e)}};var i=n(16),r=o(i),u=n(4),s=o(u)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e,(0,r.default)(e))};var i=n(17),r=o(i),u=n(3),s=o(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new Error("Getting previous slide requires state");var t=(0,i.default)(e);return 1===t?e.numberOfSlides:t-1};var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){try{e.update(new r.default(e.get(),n)),t.emit("TransitionToStarted"),setTimeout(function(){(0,s.default)(e.get(),t)},e.get().slideDuration)}catch(e){t.emit(e.name,e)}};var i=n(3),r=o(i),u=n(4),s=o(u)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),r=o(i),u=n(5),s=o(u),a=function e(t,n){t.get().autoplay&&setTimeout(function(){t.get().autoplay&&((0,s.default)(t,n),requestAnimationFrame(function(){e(t,n)}))},t.get().autoplaySpeed)},l=function(e,t){try{if(e.get().autoplay)return;e.update(new r.default(e.get())),t.emit("AutoplayStarted"),a(e,t)}catch(e){t.emit(e.name,e)}};t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new s.default("Slider state is required");var t=(0,r.default)(e);return t.autoplay=!0,t};var i=n(2),r=o(i),u=n(21),s=o(u)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(u),a=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="StartAutoplayFailedException",n}return r(t,e),t}(s.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{e.update(new i.default(e.get())),t.emit("AutoplayStopped")}catch(e){t.emit(e.name,e)}};var o=n(23),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new s.default("Slider state is required");var t=(0,r.default)(e);return t.autoplay=!1,t};var i=n(2),r=o(i),u=n(24),s=o(u)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(u),a=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="StopAutoplayFailedException",n}return r(t,e),t}(s.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return-100*((0,i.default)(e)-1)+"%"};var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.messages={}}return i(e,[{key:"on",value:function(e,t){this.messages[e]||(this.messages[e]=[]),"function"==typeof t&&this.messages[e].push(t)}},{key:"emit",value:function(e,t){this.messages[e]&&this.messages[e].forEach(function(e){e(t)})}}]),e}();t.default=r},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.data={}}return i(e,[{key:"update",value:function(e){this.data=e}},{key:"get",value:function(){return this.data}}]),e}();t.default=r}])});
//# sourceMappingURL=jgb-slider.min.js.map